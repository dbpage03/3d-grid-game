[gd_scene load_steps=13 format=2]

[ext_resource path="res://scripts/Main.gd" type="Script" id=1]
[ext_resource path="res://scenes/Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://scripts/New_Player.gd" type="Script" id=3]
[ext_resource path="res://scenes/Map.tscn" type="PackedScene" id=4]
[ext_resource path="res://scripts/Generator.gd" type="Script" id=5]
[ext_resource path="res://scripts/UI.gd" type="Script" id=6]
[ext_resource path="res://graphics/UI/Menu-Background.png" type="Texture" id=7]
[ext_resource path="res://Font.tres" type="DynamicFont" id=8]
[ext_resource path="res://scripts/PlayerUI.gd" type="Script" id=9]

[sub_resource type="StyleBoxFlat" id=1]
bg_color = Color( 0.552941, 0.552941, 0.552941, 0.921569 )

[sub_resource type="StyleBoxFlat" id=2]
bg_color = Color( 1, 0, 0, 1 )
border_width_left = 3
border_width_top = 3
border_width_right = 3
border_width_bottom = 3
border_color = Color( 0.133333, 0.133333, 0.133333, 1 )

[sub_resource type="StyleBoxFlat" id=3]
bg_color = Color( 0.133333, 0.133333, 0.133333, 1 )

[node name="Spatial" type="Spatial"]
script = ExtResource( 1 )

[node name="Viewport" type="Viewport" parent="."]

[node name="Player" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.53295, 194.748, 0.670836 )
script = ExtResource( 3 )

[node name="GridMap" parent="." instance=ExtResource( 4 )]
data = {
"cells": PoolIntArray( 0, 0, 1, 1, 0, 1, 2, 0, 1, 3, 0, 536870913, 4, 0, 536870913, 5, 0, 536870913, 6, 0, 1, 65528, 0, 1, 65529, 0, 1073741825, 65530, 0, 536870913, 65531, 0, 536870913, 65533, 0, 536870913, 65534, 0, 536870913, 65535, 0, 1073741825, 65536, 0, 1, 65538, 0, 536870913, 65539, 0, 536870913, 65540, 0, 536870913, 65541, 0, 536870913, 131065, 0, 536870913, 131066, 0, 536870913, 131067, 0, 1, 131068, 0, 536870913, 131069, 0, 1, 131072, 0, 536870914, 131073, 0, 2, 131074, 0, 536870914, 131075, 0, 536870914, 196603, 0, 2, 196604, 0, 536870914, 196605, 0, 1073741826, 196606, 0, 536870914, 196607, 0, 2, 0, 1, 536870913, 1, 1, 536870913, 2, 1, 1, 3, 1, 1073741825, 4, 1, 536870913, 5, 1, 1, 6, 1, 1, 65529, 1, 1, 65530, 1, 536870913, 65531, 1, 1073741825, 65535, 1, 536870913, 65536, 1, 1073741825, 65537, 1, 1073741825, 65538, 1, 1, 65539, 1, 536870913, 65540, 1, 536870913, 65541, 1, 536870913, 131066, 1, 1, 131067, 1, 536870913, 131068, 1, 536870913, 131069, 1, 1, 131070, 1, 1, 131072, 1, 536870914, 131073, 1, 536870914, 131074, 1, 536870914, 131075, 1, 2, 131076, 1, 2, 196604, 1, 1073741826, 196605, 1, 536870914, 196606, 1, 536870914, 196607, 1, 536870914, 196612, 1, 4, 196614, 1, 1073741828, 196615, 1, 536870916, 196616, 1, 536870916, 196617, 1, 4, 196618, 1, 536870916, 196619, 1, 536870916, 196620, 1, 1073741828, 196621, 1, 536870916, 0, 2, 536870913, 1, 2, 536870913, 4, 2, 1, 5, 2, 536870913, 6, 2, 1, 65529, 2, 536870913, 65530, 2, 536870913, 65531, 2, 1, 65532, 2, 1, 65534, 2, 536870913, 65535, 2, 536870913, 65537, 2, 1, 65538, 2, 1, 65540, 2, 1073741825, 65541, 2, 1, 131068, 2, 536870913, 131069, 2, 536870913, 131070, 2, 536870913, 131072, 2, 2, 131073, 2, 536870914, 131074, 2, 2, 131075, 2, 2, 131076, 2, 536870914, 196605, 2, 1073741826, 196606, 2, 536870914, 196607, 2, 536870914, 196620, 2, 536870916, 196622, 2, 4, 196623, 2, 536870916, 196624, 2, 536870916, 196626, 2, 4, 0, 3, 1073741825, 1, 3, 1, 2, 3, 1073741825, 3, 3, 536870913, 4, 3, 536870913, 5, 3, 1, 65533, 3, 536870913, 65535, 3, 536870913, 65536, 3, 536870913, 65537, 3, 536870913, 65538, 3, 1073741825, 65539, 3, 1, 65540, 3, 1, 65541, 3, 536870913, 131069, 3, 1073741825, 131070, 3, 536870913, 131071, 3, 1073741825, 131072, 3, 536870914, 131073, 3, 536870914, 131074, 3, 536870914, 131075, 3, 536870914, 196606, 3, 1073741826, 196607, 3, 536870914, 196624, 3, 536870916, 196625, 3, -536870908, 196628, 3, -536870908, 0, 4, 1610612737, 1, 4, -536870911, 2, 4, -536870911, 3, 4, -536870911, 4, 4, 1, 5, 4, -536870911, 65532, 4, 536870913, 65533, 4, 536870913, 65534, 4, -536870911, 65535, 4, -536870911, 65536, 4, -536870911, 65537, 4, 1, 65538, 4, 1, 65539, 4, 1610612737, 65540, 4, 1, 65541, 4, -536870911, 131070, 4, -536870911, 131071, 4, -536870911, 196625, 4, 1610612740, 196626, 4, 4, 196627, 4, -536870908, 196628, 4, 4, 196629, 4, 1610612740, 196631, 4, 4, 196632, 4, 4, 196633, 4, 4, 196634, 4, 4, 196635, 4, 4, 196636, 4, -536870908, 196637, 4, -536870908, 196638, 4, 536870916, 196639, 4, -536870908, 196640, 4, -536870908, 196641, 4, -536870908, 0, 5, -536870911, 1, 5, 1, 2, 5, 536870913, 3, 5, 536870913, 65534, 5, 1, 65535, 5, -536870911, 65536, 5, 1, 65537, 5, -536870911, 65538, 5, -536870911, 65539, 5, -536870911, 65540, 5, 1, 131071, 5, -536870911, 196642, 5, 4, 196643, 5, -536870908, 196644, 5, -536870908, 196645, 5, -536870908, 196646, 5, -536870908, 196647, 6, -536870908, 196648, 6, -536870908, 196649, 7, -536870908, 196650, 7, 4, 196651, 8, 536870916, 196651, 9, 536870916, 196652, 9, 4, 196652, 10, 4, 196653, 10, -536870908, 196653, 11, 4, 196654, 11, 536870916, 196654, 12, 1610612740, 196655, 13, 4, 196655, 14, 4, 196656, 14, -536870908, 196656, 15, -1610612732, 196656, 16, 536870916, 196657, 16, 4, 196657, 17, 1610612740, 196657, 18, 4, 196658, 18, 4, 196658, 19, 4, 196658, 20, 1610612740, 196659, 20, 4, 196659, 21, 4, 196660, 22, 4, 196660, 23, 1610612740, 196661, 24, -536870908, 196661, 26, -536870908, 196662, 26, -536870908, 196662, 27, -536870908, 196663, 28, 4, 196663, 29, 536870916, 196664, 30, 1610612740, 196664, 31, 536870916, 196664, 32, -536870908, 196665, 32, -536870908, 196665, 33, -536870908, 196666, 35, -536870908, 196665, 36, -536870908, 196666, 36, 536870916, 196666, 37, 536870916, 196666, 38, 4, 196666, 39, 4, 196667, 39, 536870916, 196666, 40, -536870908, 196667, 40, -1610612732, 196666, 41, -536870908, 196667, 41, -536870908, 196666, 42, 536870916, 196667, 42, -536870908, 196667, 43, -536870908, 196668, 43, 4, 196667, 44, -1610612732, 196668, 44, 1610612740, 196667, 45, 4, 196668, 45, -536870908, 196667, 46, 536870916, 196668, 46, 4, 196667, 47, 1610612740, 196669, 47, 4, 196667, 48, 4, 196669, 48, 4, 196667, 49, -536870908, 196669, 49, -536870908, 196667, 50, -536870908, 196668, 50, 4, 196669, 50, 4, 196668, 51, -536870908, 196669, 51, -536870908, 196670, 51, 1610612740, 196668, 52, -536870908, 196669, 52, -536870908, 196669, 53, -536870908, 196668, 54, -536870908, 196669, 54, -536870908, 196668, 55, 4, 196669, 55, -536870908, 196668, 56, 4, 196669, 56, -536870908, 196668, 57, 1073741828, 196669, 57, -536870908, 196668, 58, 1610612740, 196669, 58, -536870908, 196668, 59, -536870908, 196669, 59, 4, 196668, 60, 1610612740, 196669, 60, 4, 196668, 61, -536870908, 196669, 61, 4, 196668, 62, 4, 196669, 62, -1610612732, 196668, 63, 4, 196669, 63, 4, 196668, 64, 4, 196668, 65, 4, 196669, 65, -1610612732, 196668, 66, 4, 196669, 66, 4, 196668, 67, 4, 196668, 68, 4, 196669, 68, 4, 196668, 69, 4, 196668, 70, -1610612732, 196669, 70, -1610612732, 196668, 71, 4, 196668, 72, 4, 196668, 73, -1610612732, 196669, 73, 4, 196668, 75, -536870908, 196668, 76, 4, 196668, 77, 4, 196668, 78, 4, 196668, 79, -536870908, 196668, 81, -1610612732, 196668, 82, 4, 196668, 83, -536870908, 196668, 84, 4, 196668, 85, 536870916, 196668, 86, 4, 196668, 87, 4, 196667, 88, 536870916, 196668, 88, -536870908, 196668, 89, -1610612732, 196667, 90, -536870908, 196668, 90, -1610612732, 196667, 92, -536870908, 196668, 92, -1610612732, 196668, 93, -536870908, 196668, 94, -1073741820, 196667, 95, -536870908, 196668, 96, 4, 196668, 97, 4, 196667, 98, 4, 196667, 99, 4, 196668, 100, -1610612732, 196667, 101, 4, 196668, 101, 4, 196667, 102, -1610612732, 196667, 103, 4, 196668, 103, -1610612732, 196667, 104, 4, 196668, 104, 4, 196667, 105, 4, 196667, 106, 4, 196668, 106, 4, 196667, 107, 4, 196667, 108, -1610612732, 196668, 108, -1610612732, 196667, 109, 4, 196668, 109, 4, 196667, 110, 4, 196668, 111, 536870916, 196667, 112, 4, 196668, 112, 4, 196667, 113, 4, 196668, 114, 4, 196668, 115, 536870916, 196667, 116, 4, 196668, 116, -2147483644, 196668, 117, 4, 196667, 118, 4, 196668, 118, -1610612732, 196667, 119, 4, 196668, 119, 4, 196667, 120, -2147483644, 196667, 121, -1610612732, 196668, 121, 4, 196667, 122, -2147483644, 196668, 122, 4, 196667, 123, -1610612732, 196667, 124, -2147483644, 196667, 125, 4, 196668, 125, -2147483644, 196667, 126, 4, 196668, 126, -1610612732, 196667, 127, 4, 196668, 127, 4, 196667, 128, 4, 196668, 128, 4, 196667, 129, -2147483644, 196667, 130, 4, 196668, 130, 4, 196667, 131, 4, 196668, 131, 4, 196667, 132, 4, 196667, 133, 4, 196667, 134, 4, 196667, 136, 4, 196668, 136, 4, 196667, 137, 4, 196667, 138, -1610612732, 196668, 139, 4, 196667, 140, 4, 196667, 141, -1610612732, 196667, 142, -1610612732, 196668, 143, 4, 196667, 144, 4, 196667, 145, 4, 196667, 146, -1610612732, 196668, 146, 4, 196667, 148, -1610612732, 196667, 149, 4, 196667, 150, -1610612732, 196667, 151, 4, 196667, 153, 536870916, 196667, 154, -1610612732, 196667, 157, 536870916, 196667, 161, -1610612732, 196667, 162, 4, 196667, 164, 4, 196667, 167, -1610612732, 196667, 169, -1610612732, 196667, 171, -1610612732, 196667, 173, -1610612732, 196667, 175, 4, 65530, 65529, 1, 65531, 65529, -1610612735, 65532, 65529, 1, 65533, 65529, 1, 65534, 65529, -2147483647, 65535, 65529, 1, 131068, 65529, 1, 131069, 65529, 1, 0, 65530, 1, 1, 65530, 1, 2, 65530, 1, 65530, 65530, 1, 65531, 65530, 1, 65532, 65530, -1610612735, 65533, 65530, -1610612735, 65534, 65530, -1610612735, 65535, 65530, -2147483647, 131067, 65530, 1, 131068, 65530, -1610612735, 131069, 65530, 1, 131070, 65530, 1, 0, 65531, -1610612735, 1, 65531, -1610612735, 2, 65531, 1, 3, 65531, 1, 65528, 65531, -1610612735, 65529, 65531, 1, 65530, 65531, -1610612735, 65531, 65531, 1, 65532, 65531, -1610612735, 65533, 65531, -1610612735, 65535, 65531, -1610612735, 65536, 65531, 1, 65537, 65531, 1, 65538, 65531, 1, 131066, 65531, -1610612735, 131067, 65531, 1, 131068, 65531, 1, 131069, 65531, 1, 131070, 65531, 1, 131071, 65531, 1, 196603, 65531, 2, 196604, 65531, -1610612734, 196605, 65531, 2, 196606, 65531, 2, 196607, 65531, -2147483646, 0, 65532, 1, 1, 65532, 1, 3, 65532, -1610612735, 65528, 65532, 1, 65529, 65532, 1, 65530, 65532, -1610612735, 65531, 65532, -1610612735, 65532, 65532, -1610612735, 65533, 65532, 1, 65535, 65532, -1610612735, 65536, 65532, -536870911, 65537, 65532, -2147483647, 65538, 65532, 1, 131066, 65532, -1610612735, 131067, 65532, 1, 131068, 65532, 1, 131070, 65532, -1610612735, 131071, 65532, 536870913, 131072, 65532, -2147483646, 196603, 65532, -1610612734, 196604, 65532, -2147483646, 196605, 65532, 2, 196606, 65532, -1610612734, 196607, 65532, 2, 0, 65533, 1, 1, 65533, 1, 2, 65533, 1, 4, 65533, -1610612735, 65528, 65533, 1610612737, 65529, 65533, 1, 65530, 65533, 536870913, 65531, 65533, 1, 65532, 65533, 1, 65533, 65533, 1, 65534, 65533, 1, 65536, 65533, -1610612735, 65537, 65533, -2147483647, 65538, 65533, 1, 65539, 65533, 1, 131065, 65533, -536870911, 131066, 65533, 1, 131067, 65533, 1, 131068, 65533, 1, 131069, 65533, 1, 131071, 65533, 1, 131072, 65533, 2, 131073, 65533, 2, 196602, 65533, 2, 196603, 65533, 2, 196604, 65533, 2, 196605, 65533, -536870910, 196606, 65533, 2, 196607, 65533, 2, 0, 65534, -536870911, 1, 65534, 1, 2, 65534, 1, 3, 65534, 1, 4, 65534, -1610612735, 5, 65534, -1610612735, 65528, 65534, 1, 65529, 65534, -1610612735, 65530, 65534, -1610612735, 65531, 65534, 1, 65532, 65534, -1610612735, 65533, 65534, -536870911, 65534, 65534, -1610612735, 65535, 65534, -1610612735, 65536, 65534, 1, 65537, 65534, -1610612735, 65538, 65534, -536870911, 65539, 65534, -536870911, 65540, 65534, -536870911, 131065, 65534, -536870911, 131066, 65534, 1, 131067, 65534, 1, 131068, 65534, -536870911, 131069, 65534, 536870913, 131070, 65534, -536870911, 131072, 65534, -536870910, 131073, 65534, -536870910, 131074, 65534, -536870910, 196602, 65534, 2, 196603, 65534, 2, 196604, 65534, -536870910, 196605, 65534, -536870910, 196606, 65534, 2, 196607, 65534, -536870910, 0, 65535, -536870911, 2, 65535, 1610612737, 3, 65535, -536870911, 4, 65535, -536870911, 5, 65535, -536870911, 65528, 65535, -536870911, 65529, 65535, 1, 65530, 65535, 1, 65531, 65535, -536870911, 65532, 65535, -536870911, 65533, 65535, 1, 65534, 65535, 1, 65535, 65535, -536870911, 65537, 65535, -536870911, 65538, 65535, -536870911, 65539, 65535, -536870911, 65540, 65535, -536870911, 65541, 65535, -536870911, 131065, 65535, 1, 131066, 65535, -536870911, 131067, 65535, -536870911, 131068, 65535, -536870911, 131069, 65535, -536870911, 131070, 65535, 1, 131071, 65535, -536870911, 131072, 65535, -536870910, 131073, 65535, -536870910, 131074, 65535, -536870910, 131075, 65535, -536870910, 196602, 65535, -536870910, 196603, 65535, -536870910, 196604, 65535, -536870910, 196605, 65535, 536870914, 196606, 65535, -536870910, 196607, 65535, 2 )
}
script = ExtResource( 5 )

[node name="FP" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.12, 8.12915, 5.56723 )
far = 1024.0

[node name="TP" type="Camera" parent="."]
transform = Transform( 1, -7.45058e-009, 4.21885e-015, 6.89122e-009, 0.924924, 0.380151, -2.83235e-009, -0.380151, 0.924924, 0, 192.125, 155.173 )
current = true
far = 1024.0

[node name="UI" type="Control" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
script = ExtResource( 6 )

[node name="Main Menu" type="TextureRect" parent="UI"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
texture = ExtResource( 7 )
expand = true
stretch_mode = 1

[node name="Menu" type="Panel" parent="UI/Main Menu"]
light_mask = 3
anchor_top = 1.0
anchor_bottom = 1.0
margin_left = 40.0
margin_top = -230.0
margin_right = 296.0
margin_bottom = -42.0
grow_horizontal = 2
grow_vertical = 2
custom_styles/panel = SubResource( 1 )

[node name="VBoxContainer" type="VBoxContainer" parent="UI/Main Menu/Menu"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 12.0
margin_top = 50.0
margin_right = -12.0
margin_bottom = -7.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
custom_constants/separation = 10

[node name="BtnPlay" type="Button" parent="UI/Main Menu/Menu/VBoxContainer"]
margin_right = 232.0
margin_bottom = 35.0
custom_fonts/font = ExtResource( 8 )
text = "Play"

[node name="BtnSettings" type="Button" parent="UI/Main Menu/Menu/VBoxContainer"]
margin_top = 45.0
margin_right = 232.0
margin_bottom = 80.0
custom_fonts/font = ExtResource( 8 )
text = "Settings"

[node name="BtnQuit" type="Button" parent="UI/Main Menu/Menu/VBoxContainer"]
margin_top = 90.0
margin_right = 232.0
margin_bottom = 125.0
grow_horizontal = 2
grow_vertical = 2
custom_fonts/font = ExtResource( 8 )
text = "Quit"

[node name="Label" type="Label" parent="UI/Main Menu/Menu"]
margin_left = 12.0
margin_top = 10.0
margin_right = 102.0
margin_bottom = 39.0
custom_fonts/font = ExtResource( 8 )
text = "Menu"

[node name="Player" type="Control" parent="UI"]
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource( 9 )

[node name="HealthBar" type="ProgressBar" parent="UI/Player"]
anchor_top = 1.0
anchor_bottom = 1.0
margin_left = 10.0
margin_top = -30.0
margin_right = 220.0
margin_bottom = -6.0
custom_styles/fg = SubResource( 2 )
custom_styles/bg = SubResource( 3 )
step = 1.0
value = 50.0
percent_visible = false

[connection signal="play" from="UI" to="Player" method="_on_UI_play"]
[connection signal="play" from="UI" to="GridMap" method="_on_UI_play"]
[connection signal="play" from="UI" to="." method="_on_UI_play"]
[connection signal="play" from="UI" to="UI/Player" method="_on_UI_play"]
[connection signal="pressed" from="UI/Main Menu/Menu/VBoxContainer/BtnPlay" to="UI" method="_on_BtnPlay_pressed"]
[connection signal="pressed" from="UI/Main Menu/Menu/VBoxContainer/BtnQuit" to="UI" method="_on_BtnQuit_pressed"]
